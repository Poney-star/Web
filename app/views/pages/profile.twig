{% extends "basics/layout.twig" %}

{% block content %}
<main>
  <div class="profile-container">
    <div class="profile-card">
      <div class="profile-header">
        <div class="profile-avatar">
          <i class="fa-solid fa-user"></i>
        </div>
        <div class="profile-info">
          <h2>Profil personnel</h2>
        </div>
      </div>
      
      <div class="profile-details">
        <div class="detail-item">
          <span class="label">Nom :</span>
          <span class="value">{{ user.Nom_Utilisateur }}</span>
        </div>
        <div class="detail-item">
          <span class="label">Prénom :</span>
          <span class="value">{{ user.Prenom_Utilisateur }}</span>
        </div>
        <div class="detail-item">
          <span class="label">Date de naissance :</span>
          <span class="value">{{ user.Date_De_Naissance }}</span>
        </div>
        {% if user.Droits_Utilisateur == 2 %}
          <div class="detail-item">
            <span class="label">Année d'étude :</span>
            <span class="value">{{ user.Promotion }}</span>
          </div>
        {% elseif user.Droits_Utilisateur == 1 %}
          <div class="detail-item">
            <span class="label">Promotion gérée :</span>
            <span class="value">{{ user.Promotion }}</span>
          </div>
        {% endif %}
        <div class="detail-item">
          <span class="label">E-mail :</span>
          <span class="value">{{ user.Mail_Utilisateur }}</span>
        </div>
        <div class="detail-item">
          <span class="label">Téléphone :</span>
          <span class="value">{{ user.Telephone_Utilisateur }}</span>
        </div>
        <div class="detail-item">
          <span class="label">Adresse :</span>
          <span class="value">{{ user.Adresse_Utilisateur }}</span>
        </div>
      </div>
      {% if user.Droits_Utilisateur == 2 %}
        <div class="documents-section">
          <h3>Mes pièces jointes :</h3>
          <div class="documents">
            {% if user.CV_Defaut %}
              <div class="document-item available">
                <i class="fa-solid fa-check"></i>
                <span>Mon CV</span>
                <div class="document-actions">
                  <a href="#" class="action-link">Modifier</a> / 
                  <a href="#" class="action-link">Supprimer</a>
                </div>
              </div>
            {% else %}
              <div class="document-item missing">
                <i class="fa-solid fa-xmark"></i>
                <span>Mon CV</span>
                <div class="document-actions">
                  <a href="#" class="action-link">Ajouter</a>
                </div>
              </div>
            {% endif %}
            {% if user.CV_Defaut %}
              <div class="document-item available">
                <i class="fa-solid fa-check"></i>
                <span>Lettre de motivation</span>
                <div class="document-actions">
                  <a href="#" class="action-link">Modifier</a> / 
                  <a href="#" class="action-link">Supprimer</a>
                </div>
              </div>
            {% else %}
              <div class="document-item missing">
                <i class="fa-solid fa-xmark"></i>
                <span>Lettre de motivation</span>
                <div class="document-actions">
                  <a href="#" class="action-link">Ajouter</a>
                </div>
              </div>
            {% endif %}
          </div>
        </div>
      {% endif %}
    </div>

    <div class="dashboard">
      <section class="dashboard-section">
        <h3>MES FAVORIS</h3>
        <div class="section-content">
          <h4>MES ENTREPRISES :</h4>
          <div class="cards-container">
            {% for company in companies %}
              <div class="card">
                <img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YnVzaW5lc3MlMjBidWlsZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60" alt="IGC">
                <div class="card-info">
                  <span>IGC</span>
                  <i class="fa-solid fa-star"></i>
                </div>
              </div>
            {% endfor %}
          </div>
          <a href="#" class="view-all">Voir tout</a>
        </div>

        <div class="section-content">
          <h4>MES OFFRES DE STAGE FAVORITES :</h4>
          <div class="cards-container">
            {% for element in wishlist %}
              <div class="card">
                <img src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8d2ViJTIwZGV2ZWxvcG1lbnR8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60" alt="Développement web">
                <div class="card-info">
                  <span>Développement web</span>
                </div>
              </div>
            {% endfor %}
          </div>
          <a href="#" class="view-all">Voir tout</a>
        </div>
      </section>

      <section class="dashboard-section history">
        <h3>L'HISTORIQUE DE MES CANDIDATURES :</h3>
        <div class="cards-container">
          {% for apply in applys %}
            <div class="card history-card">
              <img src="" alt="Image Offre">
              <div class="card-info">
                <span class="time-ago"></span>
              </div>
            </div>
          {% endfor %}
        </div>
        <a href="#" class="view-all">Voir tout</a>
      </section>
    </div>
  </div>
</main>
{% endblock %}

{% block title %}
Profil - Career Bloom
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="css/profile.css">
{% endblock %}
